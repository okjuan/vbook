{%- if page.stacks_preamble -%}
    <div class="paragraph">
        <p>{{ page.stacks_preamble }}</p>
    </div>
{%- endif -%}

<div id="stacks-container">
    {% for stack in page.stacks %}
        <div class="stack paragraph"
            data-description="{{ stack.description }}"
            {% if stack.entries %}
                data-has-entries="true"
                data-entries="{{ stack.entries | jsonify | escape }}"
            {% endif %}>
            <p class="stack-description">{{ stack.description }}</p>
        </div>
    {% endfor %}
</div>

<div id="stack-modal" class="modal">
    <div class="modal-content">
        <p id="modal-title"></p>
        <div id="entries-container" class="entries-grid"></div>
    </div>
</div>

<script src="{{ site.baseurl }}/assets/js/stacks.js"></script>

{%- if page.stack_format == "book" -%}
    <link rel="stylesheet" href="{{ "/assets/css/book-stacks.css" | relative_url }}">
{%- elsif page.stack_format == "text" -%}
    <link rel="stylesheet" href="{{ "/assets/css/text-stacks.css" | relative_url }}">
{%- else -%}
    <link rel="stylesheet" href="{{ "/assets/css/stacks-base.css" | relative_url }}">
{%- endif -%}